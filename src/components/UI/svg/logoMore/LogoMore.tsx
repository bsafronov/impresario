import { FC, useEffect, useState } from "react";
import { ILogoMore } from "./LogoMore.interface";
import s from "./LogoMore.module.scss";

const LogoMore: FC<ILogoMore> = ({ text }) => {
  const [isPrompt, setIsPrompt] = useState<boolean>(false);

  useEffect(() => {
    if (isPrompt) {
      setTimeout(() => setIsPrompt(false), 4000);
    }
  }, [isPrompt]);

  return (
    <div className={s.box}>
      <svg
        className={s.svg}
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 16 16"
        onClick={() => setIsPrompt(!isPrompt)}
      >
        <path
          className={s.path}
          d="M8 0C3.582031 0 0 3.582031 0 8c0 4.417969 3.582031 8 8 8 4.417969 0 8-3.582031 8-8 0-4.417969-3.582031-8-8-8Zm2.179688 11.089844c-.390626.441406-.960938.699218-1.703126.777344V13h-.949218v-1.125c-1.238282-.128906-2.003906-.847656-2.300782-2.160156l1.464844-.382813c.136719.824219.585938 1.238281 1.347656 1.238281.355469 0 .621094-.089843.789063-.265624.167969-.175782.25-.390626.25-.640626 0-.257812-.082031-.453124-.25-.585937-.167969-.132813-.542969-.304687-1.121094-.507813-.519531-.179687-.929687-.359374-1.222656-.535156-.292969-.175781-.53125-.425781-.710937-.742187-.183594-.320313-.277344-.691407-.277344-1.113281 0-.550782.164062-1.050782.492187-1.496094.328125-.441406.839844-.710938 1.542969-.808594V3h.945312v.875c1.058594.125 1.746094.726562 2.054688 1.796875l-1.304688.535156c-.253906-.734375-.648437-1.101562-1.179687-1.101562-.265625 0-.480469.082031-.644531.246093-.160156.164063-.242188.363282-.242188.597657 0 .238281.078125.417969.234375.546875.15625.128906.492188.285156 1.003907.472656.5625.207031 1.003906.398438 1.320312.582031.320312.183594.578125.4375.769531.757813.1875.320312.285157.699218.285157 1.128906 0 .660156-.199219 1.210938-.59375 1.652344Zm0 0"
        />
      </svg>
      <div className={isPrompt ? s.prompt : [s.prompt, s.hidden].join(" ")}>
        {Array.isArray(text) &&
          text.map(par => <p key={text.indexOf(par)}>- {par}</p>)}

        {!Array.isArray(text) && <p>{text}</p>}

        {!text && "Подсказка"}
      </div>
    </div>
  );
};

export default LogoMore;
